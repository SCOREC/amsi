find_package(PETSC)
if(PETSC_FOUND)
  add_definitions(-DPETSC)
  include_directories(${PETSC_INCLUDE_DIRS})
endif(PETSC_FOUND)

set(INTERFACE_INSTALL_FILES
    MatrixUtil.h
    FullLULAS.h
    LAS.h
   )

set(INTERFACE_SOURCE_FILES
    MatrixUtil.h
    FullLULAS.cc
   )

if(PETSC_FOUND)
  list(APPEND ${INTERFACE_INSTALL_FILES} PetscLAS.h)
  list(APPEND ${INTERFACE_SOURCE_FILES} PetscLAS.cc)
endif(PETSC_FOUND)

set(INTERFACE_HEADER_FILES 
    ${INTERFACE_INSTALL_FILES}
   )

# Add the library to create
add_library(AMSI_INTERFACE ${INTERFACE_SOURCE_FILES} ${INTERFACE_HEADER_FILES})

# For install, put the created AMSI library in installpath/lib
install (TARGETS AMSI_INTERFACE DESTINATION lib)

# For install, put headers in installpath/include
install (FILES ${INTERFACE_INSTALL_FILES} DESTINATION include)

